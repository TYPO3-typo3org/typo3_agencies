{namespace agency=Tx_Typo3Agencies_ViewHelpers}
<f:layout name="default" />
<f:section name="content">
	<div class="editAgency">
		<f:if condition="{agency}">
			<f:then>
				<f:if condition="{administrator} == {agency.administrator}">
					<f:then>
						<h1><f:translate key="editAgency">Edit/Create Agency Profile</f:translate></h1>
						<f:render partial="formErrors" arguments="{for: 'agency'}" />
						
						<f:form method="post" controller="Agency" action="update" name="agency" object="{agency}" enctype="multipart/form-data" >
							<f:form.hidden name="submit" value="true"/>
							<div class="b-form b-form-edit">
								<div class="b-form-row">
									<label for="form-name"><f:translate key="agencyName">Agency name</f:translate></label>
									<div class="b-form-inputs">
										<f:form.textbox property="name" id="form-name"/>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<label for="form-about-project"><f:translate key="agencyAbout">Description</f:translate></label>
									<div class="b-form-inputs">
										<f:form.textarea cols="20" rows="5" property="about" id="form-about-project" />
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<f:if condition="{agency.logo}">
										<f:then>
											<label for="form-about-project">Logo</label>
											<div class="b-form-inputs">
												<div class="b-form-file">
													<f:image src="{uploadPath}/{agency.logo}" alt="" id="form-about-project"/>
													<f:link.action controller="Agency" action="edit" arguments="{agency : agency, logo : 1}" noCacheHash="false" ><f:translate key="remove">remove</f:translate></f:link.action><br/>
												</div><!-- .b-form-file -->
											</div><!-- b-form-inputs -->
										</f:then>
										<f:else>
											<label for="form-about-project">Upload logo</label>
											<div class="b-form-inputs">
												<div class="b-form-file">
													<f:form.upload property="logo" class="multi-file max-1"/>
													<span class="form-file-main-text">Choose file</span> <span class="form-file-secondary-text"><f:translate key="limits">Limits: jpg/png, 600x480px, 500KB</f:translate></span>
												</div><!-- .b-form-file -->
											</div><!-- b-form-inputs -->
										</f:else>
									</f:if>
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<label for="form-link"><f:translate key="link">Link</f:translate></label>
									<div class="b-form-inputs">
										<f:form.textfield property="link" id="form-link"/>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<label for="form-service"><f:translate key="services">Services</f:translate></label>
									<div class="b-form-inputs">
										<div class="b-form-boxes">
											<div class="b-form-sub-row sub-theee-columns">
												<div class="b-form-sub-column">
													<label for="form-training-service"><f:translate key="training">Training</f:translate></label>
													<f:form.checkbox property="trainingService" value="1" id="form-training-service" />
												</div><!-- .b-form-sub-column -->
												<div class="b-form-sub-column">
													<label for="form-hosting-service"><f:translate key="hosting">Hosting</f:translate></label>
													<f:form.checkbox property="hostingService" value="1" id="form-hosting-service" />
												</div><!-- .b-form-sub-column -->
												<div class="b-form-sub-column">
													<label for="form-development-service"><f:translate key="development">Development</f:translate></label>
													<f:form.checkbox property="developmentService" value="1" id="form-development-service" />											
												</div><!-- .b-form-sub-column -->
											</div><!-- b-form-sub-row -->
										</div><!-- b-form-boxes -->
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<label for="form-address">Address</label>
									<div class="b-form-inputs">
										<f:form.textfield property="address" id="form-address"/>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<label for="form-city">City</label>
									<div class="b-form-inputs">
										<f:form.textfield property="city" id="form-city"/>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<label for="form-country">Country:</label>
									<div class="b-form-inputs">
										<f:form.select property="country" value="{country}" options="{countries}" id="form-country"></f:form.select>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
								<div class="b-form-row">
									<label for="form-zip">Zip:</label>
									<div class="b-form-inputs">
										<f:form.textfield property="zip" id="form-zip"/>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->	
								<div class="b-form-row">
									<label for="form-contact-person">Contact Person:</label>
									<div class="b-form-inputs">
										<input id="form-contact-person" type="text" />
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->	
								<div class="b-form-row">
									<label for="form-email">Email:</label>
									<div class="b-form-inputs">
										<f:form.textfield property="email" id="form-email"/>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->	
								<div class="b-form-row">
									<div class="b-form-inputs">
										<f:form.submit class="bu bu-confirm" value="Submit"/>
										<f:link.action controller="Agency" action="show" arguments="{agency : agency}" class="bu bu-secondary"><f:translate key="cancel">Cancel</f:translate></f:link.action>
									</div><!-- b-form-inputs -->
								</div><!-- b-form-row -->
							</div><!-- b-form -->
						</f:form>
					</f:then>
				</f:if>
			</f:then>
		</f:if>
	</div>
</f:section>
